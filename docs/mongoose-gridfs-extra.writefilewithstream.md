<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [mongoose-gridfs-extra](./mongoose-gridfs-extra.md) &gt; [writeFileWithStream](./mongoose-gridfs-extra.writefilewithstream.md)

## writeFileWithStream() function

writeFileWithStream store a file into gridFS bucket using the provided stream. This function will overwrite the

**Signature:**

```typescript
declare function writeFileWithStream(uploadStream: mongo.GridFSBucketWriteStream, file: Buffer): Promise<mongo.GridFSFile>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  uploadStream | mongo.GridFSBucketWriteStream | The stream to upload file to mongodb |
|  file | Buffer | the file to save into mongodb bucket |

**Returns:**

Promise&lt;mongo.GridFSFile&gt;

a promise that resolves to a GridFSFile

## Exceptions

Error

## Example

const uploadStream = bucket.openUploadStream("example.txt") ; const gridFsFile = await writeFileWithStream(uploadStream, file) ;

